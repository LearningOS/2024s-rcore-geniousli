# chapter4练习

# 问答作业： 
1. RWX 标记该页 是否可读、可写、可执行， U 标识是否为用户页面， U=0 U模式可访问， S模式不行， U=1 S模式可以访问， U模式 不能访问
2.
  1. 可能导致缺页异常的情况： 加载代码， 访问没有加载到内存的内存地址，heap上分配内存
  2. 缺页中断 依然是一个中断。 即是 中断的一种。 也会进入 __alltraps 并调用 trap_handler stval 为产生缺页中断的地址（要访问的地址）， sepc 等设定同 其他中断
  3. 可以容纳更多的应用，节省可用的物理内存空间。
  4. 10GB / 1MB  + 10GB / 1MB / 1MB
  5. 在TaskControlBlock中保存应用的 镜像地址， 发生缺页中断时，首先判断 内存地址是否在 应用的镜像地址中， 如果是则加载镜像，否则 进行mmap
  6. 可以使用 PTE中 的 V、G标记。 
3.
    1. 使用 kernel维护的 TaskControlBlock中的 page table的token， 写入 satp
    2. 设定 MapPermission::U = 0，即可
    3. 切换简单， 在应用切入到内核态时 （中断或者调用 系统调用） 无需切换页表，性能更好 
    4. 中断或者系统调用时需要更换页表。 单页表系统: 系统切换应用调度时, 因为单页表只能维护应用自身的数据，切换页表 能够在内核态访问 TaskControlblock。
